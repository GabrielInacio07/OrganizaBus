

generator client {
  provider = "prisma-client-js" // âœ… sem "output"
}



datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id        Int    @id @default(autoincrement())
  nome      String
  email     String @unique
  telefone  String
  cpf       String @unique
  senha     String
  tipo      String
  alunos   Aluno[]
}

model Aluno {
  id        Int    @id @default(autoincrement())
  nome      String
  email     String @unique
  telefone  String
  cpf       String @unique
  senha     String
  tipo      String
  faculdade String
  motoristaId Int
  motorista User @relation(fields:[motoristaId], references:[id])
  pagamentos Pagamento[]
}

model Pagamento {
  id  Int   @id @default(autoincrement())
  titulo String
  valor Float
  quantidade Int
  status String
  qr_code String
  qr_code_base64 String @db.LongText
  codigo_pix String
  pagamentoId String
  criadoEm DateTime @default(now())
  alunoId Int?
  aluno Aluno? @relation(fields: [alunoId], references: [id])
}